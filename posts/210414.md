# Linux 学习笔记

## 一、给 linux 物理机初始化分区

1. 给系统分区的时候就像是给超大的柜子装修，这个超大的柜子可以统一的分成（1-4）个不同大小的柜子，然后这些个柜子又可以分成一个一个更小的柜子，这个要看我们怎么去分了。

### 一、分区就是把大硬盘分成一个一个的小的逻辑分区

硬件中只有大的硬盘存在，但我们的操作系统是软件的说，这样我们就需要对硬盘
进行一些个操作让我们的操作系统能够认识硬盘才行

### 二、硬盘格式化（高级格式化，不是那种清除所有文件的格式化）：给硬盘写入文件系统，就是给硬盘装上文件管理软件

当然不同的电脑文件管理系统是不一样的

win 系统中通常是：
最常用的是 NTFS 文件系统，之前的 FAT16 和 FAT32 文件系统，现在多用来闪存中了‘

linux 系统中通常是：
ext2，ext3，ext4 文件系统

### 三、给每个分区中的设备都打上文件名字，让我们好知道这都是啥东西

比如：sd[a-d], hd[a-d]
Linux 中所有的东西都是文件形式保存的，包括硬件啥的，
/dev 目录下保存了当前设备所连接的多有硬件设施

### 四、最后把我们分好的分区给挂载到我们分给系统的挂载点上就行啦

linux 中必须要有的挂在点是：
/（根分区）：几乎所有的文件都挂载到这下边了，
swap（交换分区，最好不超过 2G）：相当于 win 中的虚拟内存
linux 中的非必须但推荐挂载点：
/boot：启动分区（200+M 就够）

## 二、SSH 登录 Linux 服务器/虚拟机

服务器/虚拟机需要拥有 OpenSSH Service 服务才行

## 三、注意事项

1. Linux 不是依靠文件扩展名来区分文件类型，部分文件的文件扩展名是给管理员看的
2. 命令行严格区分大小写
3. Linux 目录作用是啥
   Linux 中的命令其实就是存放在目录中的二进制文件
   带有 s 的只有管理员才能执行的命令，不带 s 的是所有用户都能执行的命令
   /bin/
   /usr/bin/
   /sbin/
   /usr/sbin/
   和系统启动相关的目录
   /boot/
   设备文件保存目录
   /dev/
   第三方软件安装的配置文件目录，包括默认的系统配置文件
   /etc/
   用户的家目录，每个用户的默认登录位置就是这个家目录
   切记：root 用户的家目录不在/home 目录中
   /home/username/
   /root/
   用来挂载设备的目录，U 盘，移动硬盘：比如：cdrom
   /mnt/
   用来保存第三方软件安装包的目录
   /usr/local/
   系统突然断电了，系统崩溃修复的文件夹，简单来说就是备份恢复目录
   /lost+found/
   保存系统内核信息的目录
   /proc/
   cpu 信息，系统文件列表，网络协议信息
   /sys/
   系统内核相关信息
   保存系统服务运行时的相关信息
   /srv/
   保存临时文件的目录
   /tmp/
   保存系统软件资源的目录（Unix Software Resource），这里不保存用户数据，系统中安装的大多数软件都保存在这里
   /usr
   动态数据保存目录，主要用来保存一些个缓存数据啊，日志数据啊，数据库数据啊经常变化的数据
   /var/
4. 远程服务器不允许关机，只能重启，
   服务器重启时，应该关掉所有的服务
   不要在用户高峰期使用高负载命令，比如：全盘扫描，超大文件的解压，压缩，备份
   处理防火墙时不要把自己给踢出去
   定期去备份数据
   权限越小越好（够用就行，做的事情越少，犯的错越少）
   防火墙是啥，防火墙其实就是个过滤器，它是由于 mac 地址，IP 地址，端口号，数据报包装成的，只要这些符合规则就能通过防火墙，如果不通过就不能通过防火墙，所以咧，有个笨办法就是在配置防火墙的时候设置定时任务比如每 5 钟清空一次防火墙

## 四、文件操作常用命令

### 4.1 文件处理命令

#### 4.1.1 查看文件的命令格式

#### 4.1.2 目录/文件处理命令

cd（change directory）
用来切换当前目录的命令
cp（copy files and directories）
复制一个文件或者目录，在复制的时候是可以改名的，只需要目的地目录中没有同名的文件名就可以
常用的选项：-r（recursive）递归复制
用来复制文件夹时使用
常用的选项：-p
复制的时候，文件所有属性不改变
mkdir（make directories）
用来创建目录文件用的
常用的选项：-p（parents）没有父级目录就创建父级目录
一般情况下在 linux 中不能在未创建的目录中创建其他的一个目录，这时呢，我们可以用这个-p 选项
mv（move or rename file）
剪切、移动、重命名文件
pwd（print working directory）
打印当前目录
rm（remove）
删除文件操作
rmdir（remove empty directories）
根据英文意思也就是删除一个空的目录啊 #### 4.1.3 文件处理命令

#### 4.1.4 链接命令

### 4.2 文件权限命令

#### 4.2.1 文件/目录的权限管理

chmod（change file mode bits）
更改的是权限，不是所有者 文件权限和目录权限意义是不一样滴 对于文件： r：代表用户能读取这个文件中的内容，例如：cat\tac\more\less\head\tail w：代表用户能够修改操作这个文件中的内容，例如：vi x：代表用户能够执行这个文件，例如：script\command 对于目录： r：代表用户能列出这个目录中的内容，例如：ls w：代表用户能够创建、删除，这个目录下的内容 x：代表用户可以进入这个目录
常用形式：chmod 765
后边的数字代表了什码意思咧？ 三位数字正好对应了文件的三种不同的用户 u,g,o 那么各自的数字又代表了啥意思咧？ r：的权限是 4，2 的 2 次方，w：的权限是 2，2 的 1 次方，x：的权限是 1，2 的 0 次方 各自的数字相加就是对应用户所拥有的权限
chown（change file owner or group）
更改文件/目录的所有者或者用户组
常用形式：chown ownerName:groupName fileName
在这里讲了一个默认的缺省组，就是创建的用户本身，和别的用户分组都不同
chgrp（change group ownership）
感觉不常用啊，chown 就行，功能重复了吧

### 4.3 文件搜索命令

#### 4.3.1 文件搜索命令遍历式搜索

#### 4.3.1 文件搜索命令遍历式搜索

#### 4.3.1 文件搜索命令遍历式搜索

#### 4.3.2 查找指定命令的命令

#### 4.3.3 查找文件中指定内容的命令

#### 4.3.4 查找命令的帮助手册

#### 4.3.5 用户管理命令

#### 4.3.6 压缩解压命令

gzip
只能用来压缩文件，不能压缩目录
bzip2
centos 最小化安装时候是没有 bzip2 的，所以需要我们自行下载，用 yum 就行。和 gzip 一样只能用来压缩文件，不能压缩目录，压缩率要比 gzip 高点
zip
centos7 最小化安装的时候是没有 zip 和 unzip 的都需要自己去安装。文件和目录都可以压缩，但是压缩率低，不过 win 和 linux 都默认支持这种格式的压缩
tar
tar -zcf
tar -zxf
tar -jcf
tar -jxf
常用的选项：-c
对某个文件或者目录进行打包操作
常用的选项：-z
打包的同时进行 gzip 压缩操作
常用的选项：-f
对指定名称的文件/目录进行操作

### 4.4 网络命令

#### 4.4.1 在线发送信息命令

write
write userName
给指定的用户发送信息，信息写完之后 ctrl+D 用来保存发送
wall（write all）
给所有的用户发送信息，信息写完之后 ctrl+D 用来保存发送

#### 4.4.2 系统级别的邮件

mail
mail 命令不是所有的 linux 系统都会安装的，如果需要的话可以自行安装
mail userName
这个命令主要是用来给 userName 来写邮件用的，具体的操作方法和 write 差不多
mail
单独的一个 mail 命令是查看当前用户的邮箱中的邮件列表，防止未读邮件的堆积，

#### 4.4.3 查看本机网络状态命令

ping
常用的选项：-c
发送网络链接请求的次数
ifconfig（interface configure）
查看本机的网卡信息
last
查看本机过去和现在所有用户登录的时间
lastlog
查看本机用户最后一次登录的时间
常用的选项：-u
可以查看指定用户的最后一次登录时间：后边跟上用户的 uid
traceroute
跟踪一条网络连接所经过的 IP 地址跳转点
netstat
查看当前主机所在的路由信息
常用的选项：-u
查看 udp 协议网络使用情况
常用的选项：-t
查看 tcp 协议网络使用情况
常用的选项：-n
显示 IP 地址和网络端口号
常用的选项：-l
监听
常用的选项：-r
路由信息
常用的命令：netstat -tuln
查看当前主机开启的 tcp 和 udp 协议端口及 IP 地址
常用的命令：netstat -rn
查看当前主机所在的路由信息
常用的命令：netstat -an
查看当前机器的所有网络信息，包括正在连接使用的协议
setup
这是一个工具，没有的话就安装一个 setuptool 就好，不过需要安装相应的附件配置才能使用 1.系统服务管理 yum -y install ntsysv 2.防火墙 yum -y install system-config-securitylevel-tui 3.网络编辑 yum -y install system-config-network-tui，如果安装不上的户就用系统自带的 nmtui 就行 4.安装时区 yum -y install system-config-date

#### 4.4.4 挂载光盘/U 盘

mount
挂载命令，经常用来挂载 cd-rom 光驱文件
常用命令：mount /dev/cdrom /mnt/cdrom
这个命令就像是 win 中给插入的 U 盘分配位置一样，只不过在 linux 中是我们手动分配的，只有我们手动分配之后你才能看到里边的文件啥的

### 4.5 关机重启命令

#### 4.5.1 关机/重启命令

shutdown
使用 shutdown 命令执行关机或者重启时，它时先给所有的系统进程发送一个警告消息说该机器将要关机/重启了，你要先去关闭一下，相对来说比较安全
常用的选项：-h
关机命令，我们一般后边跟 now，现在执行关机命令
常用的选项：-r
重启的命令
常用的选项：-c
取消 shutdown 命令
poweroff
直接进行断电操作，非常不推荐使用
init
init 代表了 Linux 的运行级别，总的来说是有 6 个运行级别的，都在/etc/inittab 中写着咧,此文件对于 centos6 之后不在适用
常用的命令：init 0，init 6

### 4.6 vi 模式的编辑

#### 4.6.1 vi 编辑常用操作

vi 编辑器有两种模式 1.命令模式 2.编辑模式
在命令模式下的插入命令
常用的是：a，i，o，ins 键
a:在光标的字符后插入 i:在光标的字符前插入 o:在光标的下一行插入（常用） ins:在光标处插入
在命令模式下的定位问题
常用的是：gg，G，home 键，end 键，nG 定位到行，:n 定位到行，:set nu 设置行号
gg:定位到文件的第一行 G:定位到文件的组后一行 nG/:n(常用):定位到文件的第 n 行 home/end：定位到光标所在行的行首或者行尾
在命令模式下去删除字符问题
常用的是：
dd 删除光标所在的行，
ndd 删除第 n 行，
D 删除光标所在到行尾的所有内容
光标移到第一行然后 dG，删除整个文件的内容
在命令模式下复制问题
常用的是：
yy：复制光标当前行
nyy：复制光标一下的 n 行
p：将复制的内容粘贴到光标下一行
P：将复制的内容粘贴到光标的上一行
剪切就是先删除和粘贴的组合
在命令模式下替换和撤销操作
常用的是：
R：从光标开始替换，直到 esc 结束
u：撤销上一步操作
替换指定范围内的字符串
%s/oldString/newString/g 或者 gc
不经过询问直接替换了，c 代表的是每次替换都进行确认
n1,n2s/oldString/newString/g 或者 gc
替换指定行的指定字符串，c 代表的是每次替换都进行确认
保存文件并退出
常用的命令：
:w，保存修改
:wq，保存并退出
:q!，不保存强制退出
ZZ，保存退出的快捷键
:wq!，强制保存并退出，文件所有者和 root 用户可用

#### 4.6.2 vim 编辑的小技巧

在用户的家目录下创建一个.vimrc 的配置文件，把我们经常用的设置给写进去就可以不用每次都重新设置一遍了 5. :r fileName
插入文件名的内容到光标处 6. :!which
在不退出 vim 的情况下查看命令的所在路径 7. :r !命令
导入命令的执行结果到当前光标所在的下一行 8. map
自定义组合命令快捷键, 比如： 1.在行首插入#注释符号 2.删除行首的#注释 3.添加邮箱地址 9. :n1,n2s/^/#/g
连续多行注释的写法 10. :ad key content
类似于 idea 中的代码提示功能

### 4.7 系统中的进程操作命令 11. 查看进程操作

ps 12. ps aux 13. ps -le 14. 杀掉进程
kill 15. kill -9 PID 16. 进程挂起之后（CTRL + Z） 17. jobs 查看所有挂起的进程 18. fg 工作号：把挂起的进程放到前太执行 19. bg 工作号：把挂起的进程放到后台执行

### 4.8 管理员踢人操作

pkill
pkill -9 [-t 终端名]

### 4.9 防火墙常用操作 20. 查看开放端口 21. 开启开放端口 22. 关闭开放端口

### 4.10 查看系统服务常用命令

查看系统服务的状态
systemctl status serviceName
系统级别的定时任务设置
crontab 命令

### 4.11 系统命令 Systemctl

## 五、Linux 中的软件包

### 5.1 软件包介绍 23. 软件包的分类 24. 源码包

源码包就是程序员已经写好的代码，如果你想要运行它，你需要自己去安装编译环境，并且编译它，要知道编译环节是最浪费时间的 25. 二进制包
二进制包，rpm 包，系统资源包，通过 yum 命令安装后大多都是这种包。二进制包就是已经编译过的包 26. 两种包的优缺点
源码包
优点： 27. 完全开源的，如果能力足够了，是可以自行定制的，他的个性化程度更高 28. 非常锻炼人
缺点： 29. 编译的时候极其浪费时间
二进制包
优点： 30. 安装的时候方便快捷，因为这是人家已经编译过后的
缺点： 31. 自定义程度差，没有那么多可以选择的东西 32. 不能查看更改源码 33. rpm 包名解读
rpm 包，固定格式： yum-3.4.3-167.el7.centos.noarch.rpm yum，代表的是包名； 3.4.3，代表的是包的版本； 167，代表发布的次数； e17.centos,代表适合的 linux 平台 noarch，适合的硬件平台； [linux rpm 包中的硬件平台说明](https://www.jb51.net/LINUXjishu/298499.html)
装 rpm 包时会产生依赖问题
树状依赖
先装基础包，再装顶层包
环状依赖
一次性装好几号包
模块依赖
此时你是看不到需要的包的，只能看到一个所需的库名
，所以我们需要根据库名去查找它在哪个包中

### 5.2 包的管理工具：rpm

rpm
常用的命令： 34. rpm -ivh 完整包名 安装 35. rpm -Uvh 完整包名 更新 36. rpm -e 包名 卸载
查寻安装的包的信息：
rpm -q 包名，在本地数据库中查询指定的包
rpm -qa | grep 包名，列出本地含有包名的所有包
rpm -qi 包名，查询已安装的指定包名的包的信息
rpm -pip 完整包名，查询未安装的包的信息
查询安装的包中的文件位置：
rpm -ql 包名，查看已经安装的包的文件位置
rpm -qlp 包名， 查看未安装的包将要安装在哪个位置
根据系统文件名反向查找它属于哪个包：
rpm -qf 文件名
查询包的依赖性：
rpm -qR 包名
rpm -qRp 完整包名，查询未安装的软件包的依赖项
yum
yum 操作的也是 rpm 包
使用它，首先得配置联网才行，linux 中具体的网卡配置在/etc/sysconfig/network-scripts/ifcfg-ent0 文件中写着咧
配置完机器的网路之后需要配置 yum 的镜像源，不然下载太慢，配置文件在/etc/yum.repos.d/CentOS-Base.repo，
yum 下载的另外的源都在/etc/yum.repos.d/文件目录下
常用的命令：
yum list,列出源库中所有可以安装的 rpm 包
yum search 关键字，从源库中查找含有关键字的包
yum install 包名 -y；一路 yes 安装某个包
yum update 包名 -y；一路 yes 更新某个包，需要注意，如果不加包名，将更新所有，包括内核（高危操作）
yum remove 包名 -y；一路 yes 卸载某个包，同样是高危操作
软件组的常用命令：
yum grouplist；查看所有可以安装的软件组
yum groupinstall 软件组名；安装某个软件组
yum groupremove 软件组名；卸载某个软件组
配置 yum 源为本地源：
只需要将 CentOS-Media.repo 文件放行并且修改到本地挂载点就 ok

# 鸟哥的 Linux 私房菜

第十章：学习 BASH
10.1 实用小技巧 37. ctrl+u 删除光标之前的所有命令/ctrl+k 删除光标之后的所有命令 38. 命令太长写一行不好看，想换行怎么办？反斜杠+回车来帮你
\Enter 39. 查看一个命令是不是 shell 内置的指令时用：type orderName -a、t 40. 查看当前的运行的子程序名称，echo $0
如果显示的是-bash，那么说明你登录的是默认的 bash，
如果是 bash，那么说明你登录的是子进程
Linux 中的环境变量问题
10.2 关于 linux 中的变量的理解
首先我们接触到的 Linux 中的变量概念和我们在 win 中的环境变量概念差不多，但是，Linux 中的变量要比 win 中的要多几层
变量作用域
[shell 变量的作用域](http://c.biancheng.net/view/773.html)
局部变量
设置方式
VariableName=VariableValue
全局变量
设置方式
export VariableName=VariableValue
环境变量
设置方式
如果需要在每个线程中的 shell 都取得相同的变量此时，直接改配置文件/etc/bashrc，
在配置文件中添加变量属性和值，一般这个文件每个默认的 shell 都会读取：
/etc/bashrc
shell 登录过程配置文件读取顺序
[Shell 登录过程配置文件读取顺序](https://cloud.tencent.com/developer/article/1387901#:~:text=%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E6%8A%8Abash%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%88%86%E4%B8%BA%E4%B8%A4%E7%A7%8D%EF%BC%8C%E4%B8%80%E7%A7%8D%E6%98%AF%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E4%B8%80%E7%A7%8D%E6%98%AF%E5%9C%A8%E7%94%A8%E6%88%B7%E5%AE%B6%E7%9B%AE%E5%BD%95%E7%9A%84%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E3%80%82profile%20%E7%B1%BB%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A%E5%AE%9A%E4%B9%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E3%80%81%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%88%96%E8%84%9A%E6%9C%AC,bashrc%20%E7%B1%BB%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A%E5%AE%9A%E4%B9%89%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D%20%E5%85%88%E5%8A%A0%E8%BD%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%A2%AB%E5%90%8E%E5%8A%A0%E8%BD%BD%E7%9A%84%E9%85%8D%E7%BD%AE%E6%89%80)
shell 环境变量配置文件的作用
[shell 环境变量配置文件的作用](https://blog.csdn.net/RadiantJeral/article/details/105153456)
10.3 关于 linux 进入是的界面
Linux 在进入 shell 时有一个欢迎的界面的，要想改变欢迎的内容我们只需要改动两个文件 41. /etc/issue 和/etc/issue.net，这两个文件主要负责的是 shell 退出时打印信息 42. /etc/motd，这个文件中的内容是我们在登录进入 shell 时打印的信息
10.4 shell 中的 html 字符转换
&gt; > $lt: > < > 问题 43. 为什么 cat > fileName 文件名不存在就创建，那么存在了呢？
10.5 数据流重导向
正常情况下的命令执行方式 1.执行命令时，它可能从一个文件中读入数据，此时读入的数据叫做： 标准输入（Standard Input） 2.执行命令的完之后的结果有两种，一种是命令成功的返回了结果，此时返回的结果数据叫做： 标准输出（Standard Output） 3.如果执行命令过程中，发生错误，或者执行了一条错误的命令，此时返回的数据结果叫做： 标准错误输出（Standard Error Output）
输出的位置我们是可以更改的
垃圾桶黑洞设备：/dev/null
如果我们不想要错误输出，又不想保存它时，
可以把错误输出给/dev/null，这个设备会吃掉任何导向它的文件
如果一条命令既产生标准输出，又产生标准错误输出，
把他们都写到一个文件中该怎么做
用命令 > fileName 2>&1
# 基础数据结构
对于数据结构的学习，需要结合 jdk 源码来理解
redis
Linux 系统包的区别
Mini，livecd
这个镜像的目的是安装一个非常基本的系统，具有一个功能系统所需的最少的软件包。
LiveGnome
GNOME 桌面版
Everything
对完整版安装盘的软件进行补充，集成所有软件。
NetInstall
这是网络安装和救援映像。
KdeLive
KDE 桌面版
DVD，bin
系统标准安装包
